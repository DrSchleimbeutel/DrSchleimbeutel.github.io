<!DOCTYPE html>

<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="scaffolded-by" content="https://github.com/google/stagehand">
  <title>Escape the Dark</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="icon" href="favicon.ico">
  <script defer src="main.dart.js"></script>
</head>

<body>
  <div id="background" class="background">
    <div id="startMenu" class="menu">
      <button id="PlayButton" class="menuButton pointer" onclick='requestOrientationPermission();'>PLAY</button>
      <button id="LevelEditorButton" class="menuButton pointer">LEVELEDITOR</button>
    </div>

    <div id="levelEditorBox" class="block scrollable sizeMax hidden">
      <div id='editorOverview' class="flex flexCol alignCenter sizeMax editorOverview">
        <div id="overviewSection" class="flex flexRow alignCenter width100">
          <button id="editorBack" class="menuButton marginLeftAuto backToMenu pointer">Menu</button>
          <button id="newLevel" class="menuButton marginRightAuto pointer">new Level</button>
        </div>
        <div id="customlevelbox" class="flex flexCol alignCenter editorOverview"></div>
        <div id="customLevelOutbox" class="flex customOutBox absolut flexCol alignCenter hidden">
          <pre id="customOut" class="backgroundLightgrey sizeMax scrollable"></pre>
          <button id="customCopy" class="elementStyle backgroundGrey borderRad width240 pointer">Copy JSON</button>
        </div>
      </div>
      <div id="levelEditor" class="block scrollable sizeMax hidden"></div>
    </div>
    <div id="levelOverview" class="menu"></div>

    <div id="level" class="level">
      <div id="levelOverlay" class="Overlay">
        <div class="Overlay2">
          <div id="timer"></div>
          <div class="countableEntities">
            <div id="lives" class="lives">
              <div id="numberOfLives"></div>
            </div>
            <img src="resources/assets/Key.svg" alt="" id="KeyOverlay" class="size50 path">
          </div>
          <div>
            <button id="pauseButton" class="menuButton">Pause</button>
          </div>

        </div>
        <div id="powerUps" class="powerUpOverlay">
          <img src="resources/assets/bigger_viewfield.svg" alt="" id="bigger_viewfieldOverlay" class="size50 path">
          <img src="resources/assets/smaller_viewfield.svg" alt="" id="smaller_viewfieldOverlay"
            class="size50 path">
          <img src="resources/assets/fast.svg" alt="" id="fastOverlay" class="size50 path">
          <img src="resources/assets/slow.svg" alt="" id="slowOverlay" class="size50 path">
          <img src="resources/assets/Invert_Control.svg" alt="" id="Invert_ControlOverlay" class="size50 path">
        </div>
      </div>


      <div id="camera" class="camera">
        <div id="levelBackground " class="gridfield levelBackground">
        </div>
        <div id="field" class="gridfield">
          <div id="player" class="astronaut"></div>
        </div>
        <div id="viewfield" class="gridfield"></div>

      </div>
    </div>

    <div id="pauseMenu">
      <p class="lineBreak">Spiel pausiert</p>
      <button id="Continue" class="menuButton">Weiterspielen</button>
      <button id="LevelOverviewButton" class="menuButton">Levelauswahl</button>
      <button id="BackToMenuButton2" class="menuButton backToMenu">Menü</button>
    </div>

    <div id="finished">
      <p id="finishedText" class="lineBreak"></p>
      <button id="Again" class="menuButton">Nochmal Spielen</button>
      <button id="Next" class="menuButton">Nächstes Level</button>
      <button id="backToMenuButton" class="menuButton backToMenu">MENÜ</button>
    </div>
  </div>

  <script type="text/javascript">
    function requestOrientationPermission() {
      if (navigator.userAgent.match('iPhone') ||
        navigator.userAgent.match('iPad') ||
        navigator.userAgent.match('iPod') || (navigator.userAgent.match('Mac') && navigator.maxTouchPoints > 0)) {
        DeviceOrientationEvent.requestPermission()
          .then(response => {
            if (response == 'granted') {
              window.addEventListener('deviceorientation', (e) => {

              })
            }
          })
          .catch(console.error)
      }

    }
  </script>

</body>

</html>